<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <title>Przekierowanie...</title>
</head>
<body>
  <p>Trwa przekierowanie...</p>
  
  <script>
    // --- Konfiguracja ---
    // 1. Zmienne domen
    const defaultDomain = 'https://wola.zhp.pl';
    const devDomain = 'http://localhost';
    // Ważne: Jeśli Twój lokalny serwer działa na innym porcie,
    // zmień powyższą linię, np. na 'http://localhost:3000'
    
    // 2. Lista ścieżek, które mają być przekierowane.
    const redirectPatterns = ['/sprzet/', '/usterka/'];
    
    // 3. Sprawdź parametry URL, aby ustawić właściwą domenę
    const params = new URLSearchParams(window.location.search);
    
    let targetDomain;
    if (params.has('dev')) {
      // Jeśli URL zawiera '?dev', '?dev=true' lub cokolwiek,
      // użyj domeny deweloperskiej.
      targetDomain = devDomain;
    } else {
      targetDomain = defaultDomain;
    }
    // --- Koniec Konfiguracji ---

    
    // 4. Pobierz aktualną ścieżkę z adresu URL
    //    np. "/sprzet/DD03"
    const path = window.location.pathname;
    
    // 5. Stwórz wersję ścieżki z małymi literami do porównań
    const lowerPath = path.toLowerCase();

    // 6. Przejdź przez każdy wzorzec z listy
    for (const pattern of redirectPatterns) {
    
      // 7. Sprawdź, czy ścieżka (małymi literami) zaczyna się od wzorca
      if (lowerPath.startsWith(pattern)) {
      
        // 8. Sprawdź, czy po wzorcu jest jeszcze jakiś tekst (ID)
        if (path.length > pattern.length) {
        
          // 9. Stwórz pełny docelowy URL
          const targetUrl = targetDomain + path;
          
          // 10. Przekieruj użytkownika
          window.location.href = targetUrl;
          
          // 11. Zatrzymaj dalsze sprawdzanie
          break;
        }
      }
    }
    
    const targetUrl = targetDomain;
          
          // 10. Przekieruj użytkownika
    window.location.href = targetUrl;

  </script>
</body>
</html>
